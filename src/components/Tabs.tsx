interface Tab {
  id: string;
  label: string;
  icon?: string;
}

interface TabsProps {
  tabs: Tab[];
  activeTab: string;
  onChange: (tabId: string) => void;
}

const TabIcons: Record<string, React.ReactNode> = {
  calculator: (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      id="Layer_1"
      data-name="Layer 1"
      className="w-5 h-5"
      viewBox="0 0 24 24"
      fill="currentColor"
    >
      <path d="M16.5,0c-4.206,0-7.5,1.977-7.5,4.5v2.587c-.483-.057-.985-.087-1.5-.087C3.294,7,0,8.977,0,11.5v8c0,2.523,3.294,4.5,7.5,4.5,3.407,0,6.216-1.297,7.16-3.131,.598,.087,1.214,.131,1.84,.131,4.206,0,7.5-1.977,7.5-4.5V4.5c0-2.523-3.294-4.5-7.5-4.5Zm5.5,12.5c0,1.18-2.352,2.5-5.5,2.5-.512,0-1.014-.035-1.5-.103v-1.984c.49,.057,.992,.087,1.5,.087,2.194,0,4.14-.538,5.5-1.411v.911ZM2,14.589c1.36,.873,3.306,1.411,5.5,1.411s4.14-.538,5.5-1.411v.911c0,1.18-2.352,2.5-5.5,2.5s-5.5-1.32-5.5-2.5v-.911Zm20-6.089c0,1.18-2.352,2.5-5.5,2.5-.535,0-1.06-.038-1.566-.112-.193-.887-.8-1.684-1.706-2.323,.984,.28,2.092,.435,3.272,.435,2.194,0,4.14-.538,5.5-1.411v.911Zm-5.5-6.5c3.148,0,5.5,1.32,5.5,2.5s-2.352,2.5-5.5,2.5-5.5-1.32-5.5-2.5,2.352-2.5,5.5-2.5ZM7.5,9c3.148,0,5.5,1.32,5.5,2.5s-2.352,2.5-5.5,2.5-5.5-1.32-5.5-2.5,2.352-2.5,5.5-2.5Zm0,13c-3.148,0-5.5-1.32-5.5-2.5v-.911c1.36,.873,3.306,1.411,5.5,1.411s4.14-.538,5.5-1.411v.911c0,1.18-2.352,2.5-5.5,2.5Zm9-3c-.512,0-1.014-.035-1.5-.103v-1.984c.49,.057,.992,.087,1.5,.087,2.194,0,4.14-.538,5.5-1.411v.911c0,1.18-2.352,2.5-5.5,2.5Z" />
    </svg>
  ),
  statistics: (
    <svg
      className="w-5 h-5"
      viewBox="0 0 512 512"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M362.667 0C278.933 0 213.333 37.4827 213.333 85.3333V178.731C194.005 173.611 172.395 170.667 149.333 170.667C65.6 170.667 0 208.149 0 256V426.667C0 474.517 65.6 512 149.333 512C233.067 512 298.667 474.517 298.667 426.667V418.453C318.571 423.744 340.373 426.667 362.667 426.667C446.4 426.667 512 389.184 512 341.333V85.3333C512 37.4827 446.4 0 362.667 0ZM362.667 21.3333C432.043 21.3333 490.667 50.6453 490.667 85.3333C490.667 120.021 432.043 149.333 362.667 149.333C293.291 149.333 234.667 120.021 234.667 85.3333C234.667 50.6453 293.291 21.3333 362.667 21.3333ZM149.333 192C218.709 192 277.333 221.312 277.333 256C277.333 290.688 218.709 320 149.333 320C79.9573 320 21.3333 290.688 21.3333 256C21.3333 221.312 79.9573 192 149.333 192ZM21.3333 300.373C47.2107 325.077 94.272 341.333 149.333 341.333C204.395 341.333 251.456 325.077 277.333 300.373V341.333C277.333 376.021 218.709 405.333 149.333 405.333C79.9573 405.333 21.3333 376.021 21.3333 341.333V300.373ZM149.333 490.667C79.9573 490.667 21.3333 461.355 21.3333 426.667V385.707C47.2107 410.411 94.272 426.667 149.333 426.667C204.395 426.667 251.456 410.411 277.333 385.707V426.667C277.333 461.355 218.709 490.667 149.333 490.667ZM362.667 405.333C340.117 405.333 318.165 402.155 298.667 396.331V333.141C318.549 338.432 340.331 341.312 362.667 341.312C417.728 341.312 464.789 325.056 490.667 300.352V341.312C490.667 376 432.043 405.333 362.667 405.333ZM362.667 320C340.032 320 318.165 316.779 298.667 310.955V256C298.667 253.163 298.411 250.368 297.941 247.616C317.952 253.035 339.819 256 362.667 256C417.728 256 464.789 239.744 490.667 215.04V256C490.667 290.688 432.043 320 362.667 320ZM362.667 234.667C334.741 234.667 308.523 229.973 286.165 221.355C275.115 206.784 257.237 194.453 234.667 185.6V129.728C260.544 154.432 307.605 170.688 362.667 170.688C417.728 170.688 464.789 154.432 490.667 129.728V170.688C490.667 205.376 432.043 234.688 362.667 234.688V234.667Z" />
    </svg>
  ),
  leaderboard: (
    <svg
      className="w-5 h-5"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="1.5"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <path d="M7 9h10v6c0 2.5-1.5 4-5 4s-5-1.5-5-4V9z" />
      <path d="M7 9c-1 0-2-0.5-2-1.5V7h14v0.5c0 1-1 1.5-2 1.5" />
      <line x1="5" y1="15" x2="4" y2="17" />
      <line x1="19" y1="15" x2="20" y2="17" />
      <line x1="10" y1="20" x2="14" y2="20" />
    </svg>
  ),
  profile: (
    <svg
      className="w-5 h-5"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="1.5"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <circle cx="12" cy="8" r="4" />
      <path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" />
    </svg>
  ),
};

export default function Tabs({ tabs, activeTab, onChange }: TabsProps) {
  return (
    <div
      className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100"
      style={{ paddingBottom: "max(0px, env(safe-area-inset-bottom))" }}
    >
      <div className="flex justify-around items-center max-w-md mx-auto">
        {tabs.map((tab) => (
          <button
            key={tab.id}
            onClick={() => onChange(tab.id)}
            className={`
              flex-1 py-4 px-2 text-center transition-colors duration-200
              flex flex-col items-center gap-2 border-t-2
              ${
                activeTab === tab.id
                  ? "text-gray-900 border-gray-900"
                  : "text-gray-400 border-transparent hover:text-gray-600"
              }
            `}
            title={tab.label}
          >
            {/* SVG Icon */}
            <div className="flex items-center justify-center">
              {TabIcons[tab.id] || <span className="text-xl">{tab.icon}</span>}
            </div>
            <span className="text-xs font-medium tracking-tight">
              {tab.label}
            </span>
          </button>
        ))}
      </div>
    </div>
  );
}
